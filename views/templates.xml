<odoo>
  <data>
    <!-- paper format - moved to top -->
    <record id="new_paper_format_custom_landscape" model="report.paperformat">
      <field name="name">My Report (custom) </field>
      <field name="default" eval="True"/>
      <field name="format">A4</field>
      <field name="orientation">Landscape</field>
      <field name="margin_top">30</field>
      <field name="margin_bottom">50</field>
      <field name="margin_left">10</field>
      <field name="margin_right">12</field>
      <field name="header_line" eval="False"/>
      <field name="header_spacing">30</field>
      <field name="dpi">90</field>
    </record>
    <!-- Template definition -->
    <template id="custom_report">
      <t t-call="web.basic_layout">
        <t t-foreach="docs" t-as="o">
          <div class="header">
            <style>
              .header-container {
                display: table;
                width: 100%;
                padding-bottom: 15px;
                border-bottom: 2px solid #000;
                margin-bottom: 25px;
              }
              
              .header-left {
                display: table-cell;
                width: 200px;
                text-align: left;
                vertical-align: top;
              }
              
              .header-right {
                display: table-cell;
                text-align: right;
                vertical-align: top;
              }
              
              .company-title {
                font-size: 20px;
                font-weight: bold;
                margin: 0 0 8px 0;
              }
              
              .company-address {
                font-size: 13px;
                margin: 3px 0;
              }
            </style>
            <div class="header-container">
              <div class="header-left">
                <img t-if="o.company_id.logo" 
                     t-att-src="image_data_uri(o.company_id.logo)" 
                     style="max-height: 80px; max-width: 200px;"/>
              </div>
              <div class="header-right">
                <div class="company-title">
                  <span t-field="o.company_id.name"/>
                </div>
                <div class="company-address">
                  <span t-field="o.company_id.street"/>
                </div>
                <div class="company-address">
                  Tax ID:
                  <span t-field="o.company_id.vat"/>
                </div>
              </div>
            </div>
          </div>
          <div class="page">
            <style>
              @page {
                size: A4 landscape;
                margin: 15mm;
              }
              
              .page {
                width: 100%;
                padding: 20px;
              }
              
              
              
              .title-section {
                text-align: center;
                margin: 25px 0 25px 0;
              }
              
              .main-title {
                font-size: 24px;
                font-weight: bold;
                margin: 0 0 8px 0;
              }
              
              .sub-title {
                font-size: 16px;
                margin: 0;
              }
              
              .info-row {
                background-color: #f5f5f5;
                padding: 12px 15px;
                margin: 15px 0;
                text-align: right;
              }
              
              .info-label {
                font-weight: bold;
              }
              
              .amount-box {
                border: 2px dotted #333;
                padding: 20px;
                margin: 20px 0;
                text-align: center;
                background-color: #fafafa;
              }
              
              .amount-text {
                font-size: 30px;
                font-weight: bold;
              }
              
              .details-container {
                margin: 20px 0;
                border-top: 1px dotted #999;
                border-bottom: 1px dotted #999;
                padding: 10px 0;
              }
              
              .detail-row {
                padding: 10px 0;
                border-bottom: 1px dotted #ccc;
                display: table;
                width: 100%;
              }
              
              .detail-row:last-child {
                border-bottom: none;
              }
              
              .detail-left {
                display: table-cell;
                text-align: left;
                width: 30%;
              }
              
              .detail-right {
                display: table-cell;
                text-align: right;
                width: 70%;
              }
              
              .detail-full {
                text-align: right;
                padding: 10px 0;
                border-bottom: 1px dotted #ccc;
              }
              
              .detail-label {
                font-weight: bold;
              }
              
            </style>
            <!-- Title -->
            <div class="title-section">
              <div class="main-title">Receipt Voucher - Bank Transfer</div>
              <div class="sub-title">No.
                <span t-field="o.name"/>
              </div>
            </div>
            <div class="row">
              <div class="col-6">
                <!-- Amount Label -->
                <div class="text-start">
                  <span class="fw-bold">Amount</span>
                </div>
              </div>
              <div class="col-6">
                <!-- Date -->
                <div class="info-row">
                  <span class="info-label">Date: </span>
                  <span t-field="o.date"/>
                </div>
              </div>
            </div>
            <!-- Amount Box -->
            <div class="amount-box">
              <div class="amount-text">
                <span t-field="o.amount" t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
              </div>
            </div>
            <!-- Details Section -->
            <div class="details-container">
              <!-- Row 1: Received from -->
              <div class="detail-row">
                <div class="detail-left">
                  <span class="detail-label">Invoice ,,,,</span>
                </div>
                <div class="detail-right">
                  <span class="detail-label">Received from: </span>
                  <span t-field="o.partner_id.name"/>
                </div>
              </div>
              <!-- Row 2: Amount in words -->
              <div class="detail-full">
                <span class="detail-label">Amount: </span>
                Only
                <span t-esc="'{:,.2f}'.format(o.amount)"/>
                <span t-field="o.currency_id.name"/> no more
              </div>
              <!-- Row 3: Reference and Bank -->
              <div class="detail-row">
                <div class="detail-left">
                  <span class="detail-label">Bank: </span>
                  <span t-if="o.journal_id.bank_id" t-field="o.journal_id.bank_id.name"/>
                  <span t-if="not o.journal_id.bank_id">Bank Name</span>
                </div>
                <div class="detail-right">
                  <span class="detail-label">Reference Number: </span>
                  Bank Transfer
                </div>
              </div>
              <!-- Row 4: Description -->
              <div class="detail-full">
                <span class="detail-label">For: </span>
                <!-- <span t-if="o.ref" t-field="o.ref"/> -->
                <!-- <span t-if="not o.ref">Payment</span> -->
              </div>
            </div>
          </div>
          <div class="footer">
            <style>
              .footer-container {
                display: table;
                width: 100%;
                margin-top: 70px;
                padding-top: 20px;
                border-top: 1px solid #999;
              }
              
              .footer-box {
                display: table-cell;
                text-align: center;
                width: 50%;
              }
              
              .footer-title {
                font-weight: bold;
                font-size: 14px;
                margin-bottom: 10px;
              }
              
              .footer-details {
                font-size: 11px;
                color: #666;
              }
              
              .bottom-footer {
                text-align: center;
                margin-top: 30px;
                font-size: 10px;
                color: #666;
              }
            </style>
            <div class="footer-container">
              <div class="footer-box">
                <div class="footer-title">Receiver</div>
                <div class="footer-details"></div>
              </div>
              <div class="footer-box">
                <div class="footer-title">Accountant</div>
                <div class="footer-details">
                  User:
                  <span t-field="o.create_uid.name"/>
                  <br/>
                  Time:
                  <span t-field="o.create_date" t-options='{"widget": "datetime"}'/>
                </div>
              </div>
            </div>
            <!-- Bottom Footer -->
            <div class="bottom-footer">
              @
              <span t-field="o.company_id.name"/> -
              <span t-field="o.company_id.website"/>
            </div>
          </div>
        </t>
      </t>
    </template>
    <!-- Report action - moved after paper format -->
    <record id="custom_report_action" model="ir.actions.report">
      <field name="name">Print Receipt</field>
      <field name="model">account.payment</field>
      <field name="report_type">qweb-pdf</field>
      <field name="report_name">my_report.custom_report</field>
      <field name="report_file">my_report.custom_report</field>
      <field name="print_report_name">'Receipt_%s_%s' % (object.partner_id.name or 'Payment', object.name)</field>
      <field name="binding_model_id" ref="account.model_account_payment"/>
      <field name="binding_type">report</field>
      <field name="paperformat_id" ref="new_paper_format_custom_landscape"/>
    </record>
  </data>
</odoo>